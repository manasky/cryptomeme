import{S as W,i as j,s as z,e as _,c as b,a as U,d as u,b as r,f as d,G as H,Y as O,D as L,z as P,Z as R,W as F,t as Y,k as A,g as B,n as E,h as N}from"./vendor-4e51bc60.js";let V=e=>e>1?e.toLocaleString("en-US",{maximumFractionDigits:2}):e.toLocaleString("en-US",{maximumFractionDigits:10}),x=e=>{let l=Math.min(...e);for(var i=0;i<e.length;i++)e[i]=e[i]-l;return e},$=(e,l)=>Object.keys(e).map(i=>e[i][l]);const X=(e,l,i,n,h,c)=>{let m=l.split(" "),o="";for(let s=0;s<m.length;s++){let T=o+m[s]+" ";e.measureText(T).width>h&&s>0?(e.fillText(o,i,n),o=m[s]+" ",n+=c):o=T}e.fillText(o,i,n)},q=({ctx:e,text:l,textX:i,textY:n})=>{e.font="10px 'Arial'",e.strokeStyle="rgba(0,0,0,.3)",e.lineWidth=3,e.strokeText(l,i,n),e.fillStyle="rgba(255,255,255,0.6)",e.fillText(l,i,n)},G=({canvas:e,ctx:l,bgImage:i,caption:n="",logo:h,footer_left:c,footer_right:m})=>{l.fillStyle="#fff",l.fillRect(0,0,e.width,e.height);let o=80,s=50,T=20,a=e.height-o+o/2-s/2,g=new Image;g.src=i,g.onload=function(){l.fillStyle="#fff",l.fillRect(0,0,e.width,e.height);let y=e.width*g.height/g.width,D=e.height-y;l.drawImage(g,0,D-o,e.width,y);let w;n.length>300?w=12:n.length>200?w=18:n.length>180?w=22:n.length>150?w=24:n.length>100?w=32:n.length>40?w=40:n.length>30?w=54:n.length>10?w=60:w=68;let k=e.width-40,p=w+w*.4,C=w+20,M=(e.width-k)/2;l.font="Bold "+w+"px 'Helvetica'",l.fillStyle="black",X(l,n,M,C,k,p),q({ctx:l,text:"CryptoMeme.WTF",textX:e.width-90,textY:e.height-o-10}),l.fillStyle="#000",l.fillRect(0,e.height-o,e.width,e.height);let S=new Image;S.src=h,S.onload=function(){l.drawImage(S,T,a,s,s)},l.font="Bold 20px 'Arial'",l.fillStyle="#fff",l.fillText(c.title,T+s+10,a+22),l.font="12px 'Courier'",l.fillStyle="#ccc",l.fillText(c.desc,T+s+10,a+38),l.font="20px 'Courier'",l.fillStyle="#fff",l.fillText(m.title,e.width-l.measureText(m.title).width-T,a+22),l.font="12px 'Courier'",l.fillStyle=m.color,l.fillText(m.desc,e.width-l.measureText(m.desc).width-T,a+38)}};function Z(e){let l,i,n,h,c,m;return{c(){l=_("div"),i=_("canvas"),this.h()},l(o){l=b(o,"DIV",{class:!0});var s=U(l);i=b(s,"CANVAS",{class:!0,width:!0,height:!0}),U(i).forEach(u),s.forEach(u),this.h()},h(){r(i,"class",n=""+(e[1]+" relative mb-[-12%] -mr-4")),r(i,"width","700"),r(i,"height","700"),r(l,"class",h=""+(e[2]+" overflow-hidden border border-base-content border-opacity-5 cursor-pointer"))},m(o,s){d(o,l,s),H(l,i),e[6](i),c||(m=O(i,"click",function(){R(e[0]?e[4]():"")&&(e[0]?e[4]():"").apply(this,arguments)}),c=!0)},p(o,[s]){e=o,s&2&&n!==(n=""+(e[1]+" relative mb-[-12%] -mr-4"))&&r(i,"class",n),s&4&&h!==(h=""+(e[2]+" overflow-hidden border border-base-content border-opacity-5 cursor-pointer"))&&r(l,"class",h)},i:L,o:L,d(o){o&&u(l),e[6](null),c=!1,m()}}}function J(e,l,i){let{coin:n}=l,{clickToDownload:h=!1}=l,{classes:c="w-52"}=l,{wrapperClasses:m="-mt-3 rounded"}=l,o,s;P(()=>{let a=o.getContext("2d");G({canvas:o,ctx:a,bgImage:n.meme,caption:n.meme_caption,logo:"/logos/"+n.symbol+".png",footer_left:{title:n.name,desc:new Date(Date.now()).toLocaleString("en-US",{year:"numeric",month:"short",day:"2-digit"})},footer_right:{title:"$"+V(n.current_price),desc:(n.price_change_24h<0?"\u25BC":"\u25B2")+" $"+Number(Math.abs(n.price_change_24h)),color:n.price_change_24h<0?"#ea5333":"#469586"}}),i(4,s=()=>{let g=document.createElement("a");g.download=n.name+"-meme-"+new Date(Date.now()).toLocaleString("en-US",{year:"numeric",month:"short",day:"2-digit"})+" [cryptomeme.wtf].jpg",g.href=o.toDataURL(),g.click()})});function T(a){F[a?"unshift":"push"](()=>{o=a,i(3,o)})}return e.$$set=a=>{"coin"in a&&i(5,n=a.coin),"clickToDownload"in a&&i(0,h=a.clickToDownload),"classes"in a&&i(1,c=a.classes),"wrapperClasses"in a&&i(2,m=a.wrapperClasses)},[h,c,m,o,s,n,T]}class ee extends W{constructor(l){super();j(this,l,J,Z,z,{coin:5,clickToDownload:0,classes:1,wrapperClasses:2})}}function K(e){let l,i,n,h,c,m,o,s,T,a,g,y,D,w,k,p,C,M,I,S;return{c(){l=_("title"),i=Y(e[0]),n=A(),h=_("meta"),c=A(),m=_("meta"),o=A(),s=_("meta"),T=A(),a=_("meta"),g=A(),y=_("meta"),D=A(),w=_("meta"),k=A(),p=_("meta"),C=A(),M=_("meta"),I=A(),S=_("meta"),this.h()},l(t){l=b(t,"TITLE",{});var f=U(l);i=B(f,e[0]),f.forEach(u),n=E(t),h=b(t,"META",{name:!0,content:!0}),c=E(t),m=b(t,"META",{name:!0,content:!0}),o=E(t),s=b(t,"META",{name:!0,content:!0}),T=E(t),a=b(t,"META",{name:!0,content:!0}),g=E(t),y=b(t,"META",{name:!0,content:!0}),D=E(t),w=b(t,"META",{name:!0,content:!0}),k=E(t),p=b(t,"META",{property:!0,content:!0}),C=E(t),M=b(t,"META",{property:!0,content:!0}),I=E(t),S=b(t,"META",{property:!0,content:!0}),this.h()},h(){r(h,"name","description"),r(h,"content",e[1]),r(m,"name","twitter:card"),r(m,"content","summary"),r(s,"name","twitter:title"),r(s,"content",e[0]),r(a,"name","twitter:description"),r(a,"content",e[1]),r(y,"name","twitter:image"),r(y,"content",e[2]),r(w,"name","twitter:image:alt"),r(w,"content",e[0]),r(p,"property","og:title"),r(p,"content",e[0]),r(M,"property","og:description"),r(M,"content",e[1]),r(S,"property","og:image"),r(S,"content",e[2])},m(t,f){d(t,l,f),H(l,i),d(t,n,f),d(t,h,f),d(t,c,f),d(t,m,f),d(t,o,f),d(t,s,f),d(t,T,f),d(t,a,f),d(t,g,f),d(t,y,f),d(t,D,f),d(t,w,f),d(t,k,f),d(t,p,f),d(t,C,f),d(t,M,f),d(t,I,f),d(t,S,f)},p(t,[f]){f&1&&N(i,t[0]),f&2&&r(h,"content",t[1]),f&1&&r(s,"content",t[0]),f&2&&r(a,"content",t[1]),f&4&&r(y,"content",t[2]),f&1&&r(w,"content",t[0]),f&1&&r(p,"content",t[0]),f&2&&r(M,"content",t[1]),f&4&&r(S,"content",t[2])},i:L,o:L,d(t){t&&u(l),t&&u(n),t&&u(h),t&&u(c),t&&u(m),t&&u(o),t&&u(s),t&&u(T),t&&u(a),t&&u(g),t&&u(y),t&&u(D),t&&u(w),t&&u(k),t&&u(p),t&&u(C),t&&u(M),t&&u(I),t&&u(S)}}}function Q(e,l,i){let{title:n}=l,{desc:h}=l,{img:c}=l;return e.$$set=m=>{"title"in m&&i(0,n=m.title),"desc"in m&&i(1,h=m.desc),"img"in m&&i(2,c=m.img)},[n,h,c]}class te extends W{constructor(l){super();j(this,l,Q,K,z,{title:0,desc:1,img:2})}}export{ee as M,te as S,$ as e,V as f,x as n};
