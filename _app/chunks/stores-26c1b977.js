import{S as W,i as j,s as F,e as S,c as y,a as H,d as a,b as r,f as b,T as I,D as U,A as O,U as X,Q as Y,t as z,k,g as R,n as D,G as V,h as q,V as B}from"./vendor-7082df63.js";let x=t=>t>1?t.toLocaleString("en-US",{maximumFractionDigits:2}):t.toLocaleString("en-US",{maximumFractionDigits:10}),$=t=>{let i=Math.min(...t);for(var l=0;l<t.length;l++)t[l]=t[l]-i;return t},ee=(t,i)=>Object.keys(t).map(l=>t[l][i]);const G=(t,i,l,c,u,f)=>{let n=i.split(" "),d="";for(let h=0;h<n.length;h++){let o=d+n[h]+" ";t.measureText(o).width>u&&h>0?(t.fillText(d,l,c),d=n[h]+" ",c+=f):d=o}t.fillText(d,l,c)},N=({canvas:t,ctx:i,path:l,creditPrice:c="",creditDate:u="",meme_caption:f=""})=>{let n=new Image;n.src=l,n.onload=function(){i.fillStyle="#fff",i.fillRect(0,0,t.width,t.height);let d=t.width*n.height/n.width,h=t.height-d;i.drawImage(n,0,h,t.width,d);let o;f.length>300?o=12:f.length>200?o=18:f.length>180?o=22:f.length>150?o=24:f.length>100?o=32:f.length>40?o=40:f.length>30?o=54:f.length>10?o=60:o=68;let g=t.width-40,w=o+o*.4,_=o+20,E=(t.width-g)/2;i.font="Bold "+o+"px 'Helvetica'",i.fillStyle="black",G(i,f,E,_,g,w);let m="CryptoMeme.WTF",M=({ctx:T,text:L,textX:A,textY:P})=>{T.font="10px 'Arial'",T.strokeStyle="rgba(0,0,0,.3)",T.lineWidth=3,T.strokeText(L,A,P),T.fillStyle="rgba(255,255,255,0.6)",T.fillText(L,A,P)};M({ctx:i,text:u,textX:10,textY:t.height-20}),M({ctx:i,text:c,textX:9,textY:t.height-10}),M({ctx:i,text:m,textX:t.width-90,textY:t.height-10})}};function Q(t){let i,l,c,u;return{c(){i=S("canvas"),this.h()},l(f){i=y(f,"CANVAS",{class:!0,width:!0,height:!0,id:!0}),H(i).forEach(a),this.h()},h(){r(i,"class",l=""+(t[2]+" -my-3 -mr-4 border border-base-content border-opacity-5 cursor-pointer")),r(i,"width","700"),r(i,"height","600"),r(i,"id",t[0])},m(f,n){b(f,i,n),t[10](i),c||(u=I(i,"click",function(){X(t[1]?t[4]():"")&&(t[1]?t[4]():"").apply(this,arguments)}),c=!0)},p(f,[n]){t=f,n&4&&l!==(l=""+(t[2]+" -my-3 -mr-4 border border-base-content border-opacity-5 cursor-pointer"))&&r(i,"class",l),n&1&&r(i,"id",t[0])},i:U,o:U,d(f){f&&a(i),t[10](null),c=!1,u()}}}function J(t,i,l){let{id:c}=i,{meme:u}=i,{coin_name:f=""}=i,{meme_caption:n}=i,{creditPrice:d=""}=i,{creditDate:h=""}=i,{clickToDownload:o=!1}=i,{classes:g="w-52 rounded"}=i,w,_;O(()=>{let m=w.getContext("2d");N({canvas:w,ctx:m,path:u,meme_caption:n,creditPrice:d,creditDate:h}),l(4,_=()=>{let M=document.createElement("a");M.download=f+"-meme-"+new Date(Date.now()).toLocaleString("en-US",{year:"numeric",month:"short",day:"2-digit"})+" [cryptomeme.wtf].jpg",M.href=w.toDataURL(),M.click()})});function E(m){Y[m?"unshift":"push"](()=>{w=m,l(3,w)})}return t.$$set=m=>{"id"in m&&l(0,c=m.id),"meme"in m&&l(5,u=m.meme),"coin_name"in m&&l(6,f=m.coin_name),"meme_caption"in m&&l(7,n=m.meme_caption),"creditPrice"in m&&l(8,d=m.creditPrice),"creditDate"in m&&l(9,h=m.creditDate),"clickToDownload"in m&&l(1,o=m.clickToDownload),"classes"in m&&l(2,g=m.classes)},[c,o,g,w,_,u,f,n,d,h,E]}class te extends W{constructor(i){super();j(this,i,J,Q,F,{id:0,meme:5,coin_name:6,meme_caption:7,creditPrice:8,creditDate:9,clickToDownload:1,classes:2})}}function K(t){let i,l,c,u,f,n,d,h,o,g,w,_,E,m,M,T,L,A,P,C;return{c(){i=S("title"),l=z(t[0]),c=k(),u=S("meta"),f=k(),n=S("meta"),d=k(),h=S("meta"),o=k(),g=S("meta"),w=k(),_=S("meta"),E=k(),m=S("meta"),M=k(),T=S("meta"),L=k(),A=S("meta"),P=k(),C=S("meta"),this.h()},l(e){i=y(e,"TITLE",{});var s=H(i);l=R(s,t[0]),s.forEach(a),c=D(e),u=y(e,"META",{name:!0,content:!0}),f=D(e),n=y(e,"META",{name:!0,content:!0}),d=D(e),h=y(e,"META",{name:!0,content:!0}),o=D(e),g=y(e,"META",{name:!0,content:!0}),w=D(e),_=y(e,"META",{name:!0,content:!0}),E=D(e),m=y(e,"META",{name:!0,content:!0}),M=D(e),T=y(e,"META",{property:!0,content:!0}),L=D(e),A=y(e,"META",{property:!0,content:!0}),P=D(e),C=y(e,"META",{property:!0,content:!0}),this.h()},h(){r(u,"name","description"),r(u,"content",t[1]),r(n,"name","twitter:card"),r(n,"content","summary"),r(h,"name","twitter:title"),r(h,"content",t[0]),r(g,"name","twitter:description"),r(g,"content",t[1]),r(_,"name","twitter:image"),r(_,"content",t[2]),r(m,"name","twitter:image:alt"),r(m,"content",t[0]),r(T,"property","og:title"),r(T,"content",t[0]),r(A,"property","og:description"),r(A,"content",t[1]),r(C,"property","og:image"),r(C,"content",t[2])},m(e,s){b(e,i,s),V(i,l),b(e,c,s),b(e,u,s),b(e,f,s),b(e,n,s),b(e,d,s),b(e,h,s),b(e,o,s),b(e,g,s),b(e,w,s),b(e,_,s),b(e,E,s),b(e,m,s),b(e,M,s),b(e,T,s),b(e,L,s),b(e,A,s),b(e,P,s),b(e,C,s)},p(e,[s]){s&1&&q(l,e[0]),s&2&&r(u,"content",e[1]),s&1&&r(h,"content",e[0]),s&2&&r(g,"content",e[1]),s&4&&r(_,"content",e[2]),s&1&&r(m,"content",e[0]),s&1&&r(T,"content",e[0]),s&2&&r(A,"content",e[1]),s&4&&r(C,"content",e[2])},i:U,o:U,d(e){e&&a(i),e&&a(c),e&&a(u),e&&a(f),e&&a(n),e&&a(d),e&&a(h),e&&a(o),e&&a(g),e&&a(w),e&&a(_),e&&a(E),e&&a(m),e&&a(M),e&&a(T),e&&a(L),e&&a(A),e&&a(P),e&&a(C)}}}function Z(t,i,l){let{title:c}=i,{desc:u}=i,{img:f}=i;return t.$$set=n=>{"title"in n&&l(0,c=n.title),"desc"in n&&l(1,u=n.desc),"img"in n&&l(2,f=n.img)},[c,u,f]}class ie extends W{constructor(i){super();j(this,i,Z,K,F,{title:0,desc:1,img:2})}}const v=()=>{const t=B("__svelte__");return{page:{subscribe:t.page.subscribe},navigating:{subscribe:t.navigating.subscribe},get preloading(){return console.error("stores.preloading is deprecated; use stores.navigating instead"),{subscribe:t.navigating.subscribe}},session:t.session}},le={subscribe(t){return v().page.subscribe(t)}};export{te as M,ie as S,ee as e,x as f,$ as n,le as p};
