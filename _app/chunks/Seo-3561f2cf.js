import{S as j,i as C,s as Y,e as S,c as A,a as z,d as o,b as m,f as h,Y as F,D as U,z as H,Z as I,W as O,t as X,k as D,g as R,n as E,G as q,h as B}from"./vendor-4e51bc60.js";let v=t=>t>1?t.toLocaleString("en-US",{maximumFractionDigits:2}):t.toLocaleString("en-US",{maximumFractionDigits:10}),x=t=>{let i=Math.min(...t);for(var l=0;l<t.length;l++)t[l]=t[l]-i;return t},p=(t,i)=>Object.keys(t).map(l=>t[l][i]);const G=(t,i,l,c,u,r)=>{let n=i.split(" "),d="";for(let w=0;w<n.length;w++){let a=d+n[w]+" ";t.measureText(a).width>u&&w>0?(t.fillText(d,l,c),d=n[w]+" ",c+=r):d=a}t.fillText(d,l,c)},N=({canvas:t,ctx:i,path:l,creditPrice:c="",creditDate:u="",meme_caption:r=""})=>{let n=new Image;n.src=l,n.onload=function(){i.fillStyle="#fff",i.fillRect(0,0,t.width,t.height);let d=t.width*n.height/n.width,w=t.height-d;i.drawImage(n,0,w,t.width,d);let a;r.length>300?a=12:r.length>200?a=18:r.length>180?a=22:r.length>150?a=24:r.length>100?a=32:r.length>40?a=40:r.length>30?a=54:r.length>10?a=60:a=68;let T=t.width-40,b=a+a*.4,M=a+20,g=(t.width-T)/2;i.font="Bold "+a+"px 'Helvetica'",i.fillStyle="black",G(i,r,g,M,T,b);let s="CryptoMeme.WTF",y=({ctx:_,text:L,textX:k,textY:P})=>{_.font="10px 'Arial'",_.strokeStyle="rgba(0,0,0,.3)",_.lineWidth=3,_.strokeText(L,k,P),_.fillStyle="rgba(255,255,255,0.6)",_.fillText(L,k,P)};y({ctx:i,text:u,textX:10,textY:t.height-20}),y({ctx:i,text:c,textX:9,textY:t.height-10}),y({ctx:i,text:s,textX:t.width-90,textY:t.height-10})}};function V(t){let i,l,c,u;return{c(){i=S("canvas"),this.h()},l(r){i=A(r,"CANVAS",{class:!0,width:!0,height:!0,id:!0}),z(i).forEach(o),this.h()},h(){m(i,"class",l=""+(t[2]+" -my-3 -mr-4 border border-base-content border-opacity-5 cursor-pointer")),m(i,"width","700"),m(i,"height","600"),m(i,"id",t[0])},m(r,n){h(r,i,n),t[10](i),c||(u=F(i,"click",function(){I(t[1]?t[4]():"")&&(t[1]?t[4]():"").apply(this,arguments)}),c=!0)},p(r,[n]){t=r,n&4&&l!==(l=""+(t[2]+" -my-3 -mr-4 border border-base-content border-opacity-5 cursor-pointer"))&&m(i,"class",l),n&1&&m(i,"id",t[0])},i:U,o:U,d(r){r&&o(i),t[10](null),c=!1,u()}}}function Z(t,i,l){let{id:c}=i,{meme:u}=i,{coin_name:r=""}=i,{meme_caption:n}=i,{creditPrice:d=""}=i,{creditDate:w=""}=i,{clickToDownload:a=!1}=i,{classes:T="w-52 rounded"}=i,b,M;H(()=>{let s=b.getContext("2d");N({canvas:b,ctx:s,path:u,meme_caption:n,creditPrice:d,creditDate:w}),l(4,M=()=>{let y=document.createElement("a");y.download=r+"-meme-"+new Date(Date.now()).toLocaleString("en-US",{year:"numeric",month:"short",day:"2-digit"})+" [cryptomeme.wtf].jpg",y.href=b.toDataURL(),y.click()})});function g(s){O[s?"unshift":"push"](()=>{b=s,l(3,b)})}return t.$$set=s=>{"id"in s&&l(0,c=s.id),"meme"in s&&l(5,u=s.meme),"coin_name"in s&&l(6,r=s.coin_name),"meme_caption"in s&&l(7,n=s.meme_caption),"creditPrice"in s&&l(8,d=s.creditPrice),"creditDate"in s&&l(9,w=s.creditDate),"clickToDownload"in s&&l(1,a=s.clickToDownload),"classes"in s&&l(2,T=s.classes)},[c,a,T,b,M,u,r,n,d,w,g]}class $ extends j{constructor(i){super();C(this,i,Z,V,Y,{id:0,meme:5,coin_name:6,meme_caption:7,creditPrice:8,creditDate:9,clickToDownload:1,classes:2})}}function J(t){let i,l,c,u,r,n,d,w,a,T,b,M,g,s,y,_,L,k,P,W;return{c(){i=S("title"),l=X(t[0]),c=D(),u=S("meta"),r=D(),n=S("meta"),d=D(),w=S("meta"),a=D(),T=S("meta"),b=D(),M=S("meta"),g=D(),s=S("meta"),y=D(),_=S("meta"),L=D(),k=S("meta"),P=D(),W=S("meta"),this.h()},l(e){i=A(e,"TITLE",{});var f=z(i);l=R(f,t[0]),f.forEach(o),c=E(e),u=A(e,"META",{name:!0,content:!0}),r=E(e),n=A(e,"META",{name:!0,content:!0}),d=E(e),w=A(e,"META",{name:!0,content:!0}),a=E(e),T=A(e,"META",{name:!0,content:!0}),b=E(e),M=A(e,"META",{name:!0,content:!0}),g=E(e),s=A(e,"META",{name:!0,content:!0}),y=E(e),_=A(e,"META",{property:!0,content:!0}),L=E(e),k=A(e,"META",{property:!0,content:!0}),P=E(e),W=A(e,"META",{property:!0,content:!0}),this.h()},h(){m(u,"name","description"),m(u,"content",t[1]),m(n,"name","twitter:card"),m(n,"content","summary"),m(w,"name","twitter:title"),m(w,"content",t[0]),m(T,"name","twitter:description"),m(T,"content",t[1]),m(M,"name","twitter:image"),m(M,"content",t[2]),m(s,"name","twitter:image:alt"),m(s,"content",t[0]),m(_,"property","og:title"),m(_,"content",t[0]),m(k,"property","og:description"),m(k,"content",t[1]),m(W,"property","og:image"),m(W,"content",t[2])},m(e,f){h(e,i,f),q(i,l),h(e,c,f),h(e,u,f),h(e,r,f),h(e,n,f),h(e,d,f),h(e,w,f),h(e,a,f),h(e,T,f),h(e,b,f),h(e,M,f),h(e,g,f),h(e,s,f),h(e,y,f),h(e,_,f),h(e,L,f),h(e,k,f),h(e,P,f),h(e,W,f)},p(e,[f]){f&1&&B(l,e[0]),f&2&&m(u,"content",e[1]),f&1&&m(w,"content",e[0]),f&2&&m(T,"content",e[1]),f&4&&m(M,"content",e[2]),f&1&&m(s,"content",e[0]),f&1&&m(_,"content",e[0]),f&2&&m(k,"content",e[1]),f&4&&m(W,"content",e[2])},i:U,o:U,d(e){e&&o(i),e&&o(c),e&&o(u),e&&o(r),e&&o(n),e&&o(d),e&&o(w),e&&o(a),e&&o(T),e&&o(b),e&&o(M),e&&o(g),e&&o(s),e&&o(y),e&&o(_),e&&o(L),e&&o(k),e&&o(P),e&&o(W)}}}function K(t,i,l){let{title:c}=i,{desc:u}=i,{img:r}=i;return t.$$set=n=>{"title"in n&&l(0,c=n.title),"desc"in n&&l(1,u=n.desc),"img"in n&&l(2,r=n.img)},[c,u,r]}class ee extends j{constructor(i){super();C(this,i,K,J,Y,{title:0,desc:1,img:2})}}export{$ as M,ee as S,p as e,v as f,x as n};
