import{S as U,i as j,s as F,e as A,c as D,a as H,d as a,b as f,f as h,Q as I,D as C,A as R,R as X,P as Y,t as q,k,g as z,n as g,G as B,h as G}from"./vendor-4c001610.js";let v=i=>i>1?i.toLocaleString("en-US",{maximumFractionDigits:2}):i.toLocaleString("en-US",{maximumFractionDigits:10});const N=(i,t,s,c,u,m)=>{let l=t.split(" "),d="";for(let w=0;w<l.length;w++){let o=d+l[w]+" ";i.measureText(o).width>u&&w>0?(i.fillText(d,s,c),d=l[w]+" ",c+=m):d=o}i.fillText(d,s,c)},O=({canvas:i,ctx:t,path:s,creditPrice:c="",creditDate:u="",meme_caption:m=""})=>{let l=new Image;l.src=s,l.onload=function(){t.fillStyle="#fff",t.fillRect(0,0,i.width,i.height);let d=i.width*l.height/l.width,w=i.height-d;t.drawImage(l,0,w,i.width,d);let o;m.length>300?o=12:m.length>200?o=18:m.length>180?o=22:m.length>150?o=24:m.length>100?o=32:m.length>40?o=40:m.length>30?o=54:m.length>10?o=60:o=68;let T=i.width-40,_=o+o*.4,S=o+20,y=(i.width-T)/2;t.font="Bold "+o+"px 'Helvetica'",t.fillStyle="black",N(t,m,y,S,T,_);let r="CryptoMeme.WTF",M=({ctx:b,text:L,textX:E,textY:P})=>{b.font="10px 'Arial'",b.strokeStyle="rgba(0,0,0,.3)",b.lineWidth=3,b.strokeText(L,E,P),b.fillStyle="rgba(255,255,255,0.6)",b.fillText(L,E,P)};M({ctx:t,text:u,textX:10,textY:i.height-20}),M({ctx:t,text:c,textX:9,textY:i.height-10}),M({ctx:t,text:r,textX:i.width-90,textY:i.height-10})}};function Q(i){let t,s,c,u;return{c(){t=A("canvas"),this.h()},l(m){t=D(m,"CANVAS",{class:!0,width:!0,height:!0,id:!0}),H(t).forEach(a),this.h()},h(){f(t,"class",s=""+(i[2]+" -my-3 -mr-4 border border-base-content border-opacity-5 cursor-pointer")),f(t,"width","700"),f(t,"height","600"),f(t,"id",i[0])},m(m,l){h(m,t,l),i[10](t),c||(u=I(t,"click",function(){X(i[1]?i[4]():"")&&(i[1]?i[4]():"").apply(this,arguments)}),c=!0)},p(m,[l]){i=m,l&4&&s!==(s=""+(i[2]+" -my-3 -mr-4 border border-base-content border-opacity-5 cursor-pointer"))&&f(t,"class",s),l&1&&f(t,"id",i[0])},i:C,o:C,d(m){m&&a(t),i[10](null),c=!1,u()}}}function V(i,t,s){let{id:c}=t,{meme:u}=t,{coin_name:m}=t,{meme_caption:l}=t,{creditPrice:d=""}=t,{creditDate:w=""}=t,{clickToDownload:o=!1}=t,{classes:T="w-52 rounded"}=t,_,S;R(()=>{let r=_.getContext("2d");O({canvas:_,ctx:r,path:u,meme_caption:l,creditPrice:d,creditDate:w}),s(4,S=()=>{let M=document.createElement("a");M.download=m+"-meme-"+new Date(Date.now()).toLocaleString("en-US",{year:"numeric",month:"short",day:"2-digit"})+" [cryptomeme.wtf].jpg",M.href=_.toDataURL(),M.click()})});function y(r){Y[r?"unshift":"push"](()=>{_=r,s(3,_)})}return i.$$set=r=>{"id"in r&&s(0,c=r.id),"meme"in r&&s(5,u=r.meme),"coin_name"in r&&s(6,m=r.coin_name),"meme_caption"in r&&s(7,l=r.meme_caption),"creditPrice"in r&&s(8,d=r.creditPrice),"creditDate"in r&&s(9,w=r.creditDate),"clickToDownload"in r&&s(1,o=r.clickToDownload),"classes"in r&&s(2,T=r.classes)},[c,o,T,_,S,u,m,l,d,w,y]}class x extends U{constructor(t){super();j(this,t,V,Q,F,{id:0,meme:5,coin_name:6,meme_caption:7,creditPrice:8,creditDate:9,clickToDownload:1,classes:2})}}function J(i){let t,s,c,u,m,l,d,w,o,T,_,S,y,r,M,b,L,E,P,W;return{c(){t=A("title"),s=q(i[0]),c=k(),u=A("meta"),m=k(),l=A("meta"),d=k(),w=A("meta"),o=k(),T=A("meta"),_=k(),S=A("meta"),y=k(),r=A("meta"),M=k(),b=A("meta"),L=k(),E=A("meta"),P=k(),W=A("meta"),this.h()},l(e){t=D(e,"TITLE",{});var n=H(t);s=z(n,i[0]),n.forEach(a),c=g(e),u=D(e,"META",{name:!0,content:!0}),m=g(e),l=D(e,"META",{name:!0,content:!0}),d=g(e),w=D(e,"META",{name:!0,content:!0}),o=g(e),T=D(e,"META",{name:!0,content:!0}),_=g(e),S=D(e,"META",{name:!0,content:!0}),y=g(e),r=D(e,"META",{name:!0,content:!0}),M=g(e),b=D(e,"META",{property:!0,content:!0}),L=g(e),E=D(e,"META",{property:!0,content:!0}),P=g(e),W=D(e,"META",{property:!0,content:!0}),this.h()},h(){f(u,"name","description"),f(u,"content",i[1]),f(l,"name","twitter:card"),f(l,"content","summary"),f(w,"name","twitter:title"),f(w,"content",i[0]),f(T,"name","twitter:description"),f(T,"content",i[1]),f(S,"name","twitter:image"),f(S,"content",i[2]),f(r,"name","twitter:image:alt"),f(r,"content",i[0]),f(b,"property","og:title"),f(b,"content",i[0]),f(E,"property","og:description"),f(E,"content",i[1]),f(W,"property","og:image"),f(W,"content",i[2])},m(e,n){h(e,t,n),B(t,s),h(e,c,n),h(e,u,n),h(e,m,n),h(e,l,n),h(e,d,n),h(e,w,n),h(e,o,n),h(e,T,n),h(e,_,n),h(e,S,n),h(e,y,n),h(e,r,n),h(e,M,n),h(e,b,n),h(e,L,n),h(e,E,n),h(e,P,n),h(e,W,n)},p(e,[n]){n&1&&G(s,e[0]),n&2&&f(u,"content",e[1]),n&1&&f(w,"content",e[0]),n&2&&f(T,"content",e[1]),n&4&&f(S,"content",e[2]),n&1&&f(r,"content",e[0]),n&1&&f(b,"content",e[0]),n&2&&f(E,"content",e[1]),n&4&&f(W,"content",e[2])},i:C,o:C,d(e){e&&a(t),e&&a(c),e&&a(u),e&&a(m),e&&a(l),e&&a(d),e&&a(w),e&&a(o),e&&a(T),e&&a(_),e&&a(S),e&&a(y),e&&a(r),e&&a(M),e&&a(b),e&&a(L),e&&a(E),e&&a(P),e&&a(W)}}}function K(i,t,s){let{title:c}=t,{desc:u}=t,{img:m}=t;return i.$$set=l=>{"title"in l&&s(0,c=l.title),"desc"in l&&s(1,u=l.desc),"img"in l&&s(2,m=l.img)},[c,u,m]}class p extends U{constructor(t){super();j(this,t,K,J,F,{title:0,desc:1,img:2})}}export{x as M,p as S,v as f};
